# Sphere -> Tangent Plane Visualizer

一个纯前端单页可视化程序，用于比较球面到切平面的三种投影，并展示距离变化、局部 Jacobian 畸变、以及广义协变性与测地线方程验证。

## 运行

直接在浏览器打开 `index.html` 即可。

## 已实现能力

- 三种投影：
  - Gnomonic（中心投影）
  - Stereographic（对径点投影）
  - Orthographic（正交投影）
- 切点模式：
  - 锁定北极（开关）
  - 自由切点（在球面视图点击设置 `T`）
- 交互：
  - 球面拖拽旋转
  - 点击设置 `A/B/T`
- 距离变化：
  - 球面测地距离 `dS`
  - 平面欧氏距离 `dP`
  - 比值 `dP/dS`
  - 投影后测地线弧长 `L(π(AB))`
- 局部微分畸变：
  - Jacobian `J`
  - 拉回度量 `J^T J`
  - 主伸缩 `σ1, σ2`
  - 面积畸变 `|det(J)|`
  - 角畸变各向异性 `σ1/σ2`
- 广义协变性（数值验证）：
  - 球面度量 `g` 与变换后 `g'`
  - `ds^2` 在坐标变换前后的一致性误差
  - Christoffel 符号
  - 当前 `A-B` 大圆段的测地线方程残差

## 关键公式（单位球）

设切点单位法向量为 `t`，球面点为 `x`，`c = x·t`。

- Orthographic: `y = x + (1 - c)t`
- Gnomonic: `y = x / c`（`c > 0`）
- Stereographic: `y = -t + 2(x + t)/(1 + c)`（`c > -1`）

平面坐标通过 `y - t` 在切平面基底 `{e1, e2}` 上分解得到 `(u, v)`。
